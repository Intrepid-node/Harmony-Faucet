(this["webpackJsonpharmony-supply-frontend"]=this["webpackJsonpharmony-supply-frontend"]||[]).push([[0],{378:function(e){e.exports=JSON.parse('{"apiurl":"https://pwerzv9wd7.execute-api.ap-southeast-1.amazonaws.com/default/web3Test","explorer":"https://explorer.harmony.one/","maxAmount":5000000000000000,"hcaptchasitekey":"02bbdd83-1007-4e34-bd51-84ef019d5d65"}')},387:function(e,t,n){},388:function(e,t,n){},389:function(e){e.exports=JSON.parse("{}")},390:function(e,t,n){},499:function(e,t,n){},513:function(e,t){},515:function(e,t){},517:function(e,t){},521:function(e,t){},522:function(e,t){},545:function(e,t){},547:function(e,t){},562:function(e,t){},564:function(e,t){},580:function(e,t){},598:function(e,t){},600:function(e,t){},618:function(e,t){},619:function(e,t){},684:function(e,t){},690:function(e,t){},691:function(e,t){},905:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"DonationSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"ReceivedDonation","type":"event"},{"inputs":[{"internalType":"address","name":"newDistributor","type":"address"}],"name":"changeDistributor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"changeDonationAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"newRunway","type":"uint32"}],"name":"changeRunway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newTime","type":"uint256"}],"name":"changeTimeToNextDonation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"receiver","type":"address"}],"name":"distributeTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"distributor","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRemainingDailyDistributionBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getday","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"numberOfDonationsRemaining","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"totalDonationsPerDay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},929:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),r=n(136),i=n.n(r),s=(n(387),n(39)),c=n.p+"static/media/logo.02c2e3ba.svg",u=(n(388),n(389),n(390),n(11));var l=function(e){var t=e.text,n=e.loadingText,o=e.color,r=e.disabled,i=e.hidden,c=e.onClick,l=Object(a.useState)(!1),p=Object(s.a)(l,2),d=p[0],h=p[1],b=Object(a.useCallback)((function(){h(!0),c().then((function(){h(!1)}))}),[c]);return Object(u.jsx)("button",{className:"BackupButton",disabled:d|r,onClick:d?null:b,style:{margin:"10px",backgroundColor:o,display:!i||"none"},children:d?n||"Loading\u2026":t})},p=n(35),d=n(138),h=n.n(d);n(499);function b(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(u.jsxs)(p.a,{allowZeroExpanded:!0,allowMultipleExpanded:!0,onChange:function(e){if(e.length>n.length){var t=e[e.length-1],a=document.getElementById("accordion__panel-".concat(t)).getBoundingClientRect().bottom;a>window.innerHeight&&window.scrollBy(0,a-window.innerHeight)}o(e)},children:[Object(u.jsxs)(p.b,{children:[Object(u.jsx)(p.d,{children:Object(u.jsx)(p.c,{children:"What is a Faucet ?"})}),Object(u.jsx)(p.e,{children:Object(u.jsx)(h.a,{className:"Explanations",children:"A `Faucet` is a tool that provides a small amount of funds to start using a cryptocurrency without having to buy some. \n    It's often a shity website with plenty of ads that will send you funds half the time, only after asking you to input your email to send you spam later.  \n    `Harmony` had none for its mainnet, so here's one, without the crap you usually get on typical faucets"})})]}),Object(u.jsxs)(p.b,{children:[Object(u.jsx)(p.d,{children:Object(u.jsx)(p.c,{children:"How much can I get ?"})}),Object(u.jsx)(p.e,{children:Object(u.jsx)(h.a,{className:"Explanations",children:"`Plenty enough!`  \n    Transactions on Harmony network are dirt cheap. Forget Ethereum, forget BSC, we're talking about fractions of a cent for most transactions.  \n    So this faucet will only send you `0.01 ONE` - which is enough to deposit some fund on Tranquil and [earn fresh ONE](https://medium.com/coinmonks/tranquil-finance-the-first-money-market-in-harmony-one-8cd17384475d), for instance  \n    With `0.01 ONE`, you can do `100` basic transactions on Harmony network ! You can even deposit or withdraw funds on `Tranquil`, even though it is a pretty expensive transaction (`50$+` on Ethereum, `1$+` on Binance Smart Chain). \n    The goal of this faucet is not to make you rich but just to make the onboarding to Harmony smoother.  \n    You can use it up to `3 times a day`, for the most clumsy of us \ud83d\ude44  \n    Feel free to send some spare change at `0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7` to replenish the faucet once you're rich"})})]}),Object(u.jsxs)(p.b,{children:[Object(u.jsx)(p.d,{children:Object(u.jsx)(p.c,{children:"How to earn (much) more ONE ?"})}),Object(u.jsx)(p.e,{children:Object(u.jsx)(h.a,{className:"Explanations",children:"* First bring your assets from Ethereum to Harmony through [the bridge](https://bridge.harmony.one/)  \n    Then there's a variety of things you can do:  \n    * Play [CryptoRoyale](https://cryptoroyale.one/) to earn the ROY token which can be swapped on [Viperswap](https://viper.exchange/) for ONE \n    * Swap to other assets on [Sushiswap](https://app.sushi.com/swap), the equivalents of `Uniswap` on Harmony  \n    [Openswap](https://app.openswap.one/) is also available and will route your swaps through the cheapest path.  \n    * Depositing your assets on [Tranquil](https://app.tranquil.finance/) or [Curve](https://harmony.curve.fi/) to farm some fresh ONE  \n    * Enjoy the same functionalities Ethereum has, only with less friction \n    "})})]})]})}var y=n(4),f=n(5),m=n(6),j=n(0),g=n.n(j),w=n(366),O=n.n(w),x=n(369),v=n.n(x),k=n(380),N=n(905),T=function(){function e(){Object(f.a)(this,e),this.connected=!1,this.busy=!1,this.web3Provider=null,this.web3=null,this.balance=0,this.distributorBalance=0,this.smartContractBalance=0,this.harmonySupplyContract=null,this.network=0}return Object(m.a)(e,[{key:"connect",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connected){e.next=24;break}return t={walletconnect:{package:k.a,options:{infuraId:"https://api.harmony.one"}}},n=new v.a({network:"mainnet",cacheProvider:!0,providerOptions:t}),e.next=5,n.connect();case 5:return this.web3Provider=e.sent,e.prev=6,e.next=9,this.web3Provider.request({method:"eth_requestAccounts",params:[]});case 9:this.account=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error("User denied account access: ".concat(e.t0));case 15:return this.web3=new O.a(this.web3Provider),e.next=18,this.web3.eth.net.getId();case 18:if(this.network=e.sent,console.log(this.network),16666e5!==this.network&&16667e5!==this.network){e.next=24;break}return this.connected=!0,console.log("connected: ".concat(this.account," ").concat(typeof this.account)),e.abrupt("return",this.account);case 24:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFormattedBalance",value:function(e,t){if(!e)return"";var n=this.web3.utils.toBN(e),a=this.web3.utils.toBN(Math.pow(10,t)),o=n.div(a).toString(),r=n.mod(a).toString();return o+"."+(r=r.padStart(t,"0"))+" ONE"}},{key:"getBalance",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=18,console.log("address",String(this.account)),e.next=5,this.web3.eth.getBalance(String(this.account));case 5:return this.balance=e.sent,this.formatted_balance=this.getFormattedBalance(this.balance,n),e.abrupt("return",t?this.formatted_balance:this.balance);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDistributorBalance",value:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBalance("0xa5e299b65e6ffbc1768c4b489aecefc99111e737");case 2:return this.distributorBalance=e.sent,e.abrupt("return",this.distributorBalance);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadContractIfNeeded",value:function(){this.harmonySupplyContract||(this.harmonySupplyContract=new this.web3.eth.Contract(N,"0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7"))}},{key:"getContractBalance",value:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadContractIfNeeded(),e.next=3,this.harmonySupplyContract.methods.getBalance().call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNumberOfDonationsRemaining",value:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadContractIfNeeded(),e.next=3,this.harmonySupplyContract.methods.numberOfDonationsRemaining().call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNumberOfDonationsToday",value:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadContractIfNeeded(),e.t0=this.harmonySupplyContract.methods,e.next=4,this.harmonySupplyContract.methods.getday().call();case 4:return e.t1=e.sent,e.next=7,e.t0.totalDonationsPerDay.call(e.t0,e.t1).call();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=T,B=n(377),C=n.n(B),D=n(79),E=n.n(D);function M(){return(M=Object(y.a)(g.a.mark((function e(t,n){var a,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),a=E.a.get("apiurl"),console.log("Sending request...",a),o=JSON.stringify({address:t[0],captcha:n}),e.next=6,C.a.post(a,o,{headers:{Accept:"application/json","Content-Type":"application/json"},crossDomain:!0}).then((function(e){return e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e,t){return M.apply(this,arguments)},F=n(94),P=(n(927),n(378)),R=n(379),H=n.n(R);E.a.set(P);var I=new S;var q=function(){var e=Object(a.useState)("Not connected"),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(0),i=Object(s.a)(r,2),p=i[0],d=i[1],h=Object(a.useState)(0),y=Object(s.a)(h,2),f=y[0],m=y[1],j=Object(a.useState)(0),g=Object(s.a)(j,2),w=g[0],O=g[1],x=Object(a.useState)(0),v=Object(s.a)(x,2),k=v[0],N=v[1],T=Object(a.useState)(0),S=Object(s.a)(T,2),B=S[0],C=S[1],D=Object(a.useState)(""),M=Object(s.a)(D,2),P=M[0],R=M[1],q=Object(a.useState)(""),_=Object(s.a)(q,2),J=_[0],W=_[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(F.a,{hideProgressBar:!0}),Object(u.jsxs)("div",{className:"App-banner",children:[Object(u.jsx)("img",{src:c,className:"App-logo",alt:"logo"}),Object(u.jsx)("p",{className:"App-title",children:"Harmony Faucet"})]}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)("div",{className:"Commands",children:[Object(u.jsx)(l,{text:"Connect",loadingText:"Loading...",color:"#00AEE9",hidden:"Not connected"!==n,onClick:function(){return I.connect().then((function(e){e?(o(e),I.getBalance(!1).then((function(e){d(e)})),I.getNumberOfDonationsRemaining().then((function(e){m(e)})),I.getNumberOfDonationsToday().then((function(e){O(e)})),I.getContractBalance().then((function(e){C(e)})),I.getDistributorBalance().then((function(e){N(e)}))):F.b.error("Wrong network: Please select ONE/Harmony network first")}))}}),Object(u.jsx)(l,{text:Number(p)>=E.a.get("maxAmount")?"Balance too high":f<1?"No donations left":"Receive",loadingText:"Sending...",color:"#00AEE9",disabled:Number(p)>=E.a.get("maxAmount")||""===J,hidden:"Not connected"===n,onClick:function(){return A(n,J).then((function(e){console.log(e),200===e.data.statusCode?(F.b.success("Transaction sent!"),R(e.data.hash),I.getBalance(!1).then((function(e){d(e)})),W("")):F.b.error("Transaction failed!"+JSON.parse(e.data.body).errorMessage)})).catch((function(e){F.b.error("".concat(e.response.data.err.message," \ud83d\ude45"))}))}})]}),Object(u.jsx)("form",{id:"receive",action:"",method:"POST",children:Object(u.jsx)(H.a,{theme:"light",sitekey:E.a.get("hcaptchasitekey"),onVerify:function(e,t){W(e)}})}),Object(u.jsx)("p",{hidden:"Not connected"===n,children:"Your Wallet address : "+n}),Object(u.jsx)("p",{hidden:"Not connected"===n,children:"Your balance: "+String(I.getFormattedBalance(p,18))}),Object(u.jsxs)("p",{hidden:"Not connected"===n,children:["There are "+String(f)+" donations left for today",f<1?", try again tomorrow or ask for donations":""]}),Object(u.jsx)("p",{hidden:"Not connected"===n,children:"Today harmony.supply donated "+String(I.getFormattedBalance(w,18))}),Object(u.jsx)("a",{hidden:""===P,target:"_blank",rel:"noopener noreferrer",href:P,children:P}),Object(u.jsx)("br",{}),Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"App-footer",children:[Object(u.jsxs)("p",{children:["A modest Web App built by"," ",Object(u.jsx)("a",{href:"https://github.com/dietbald",target:"_blank",rel:"noopener noreferrer",children:"Dietbald"})," ","with React, hosted on Github.",Object(u.jsx)("a",{href:"https://github.com/dietbald/harmony-supply/",children:"PRs welcomed and appreciated \u2728"})]}),Object(u.jsxs)("p",{children:["Harmony donation:",Object(u.jsx)("a",{h:!0,href:"https://explorer.harmony.one/address/0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7",target:"_blanc",rel:"noopener noreferrer",children:"0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7"})]}),Object(u.jsx)("p",{hidden:"Not connected"===n,children:"Available in faucet balance: "+String(I.getFormattedBalance(B,18))}),Object(u.jsx)("p",{hidden:"Not connected"===n,children:"Available in distributor balance: "+String(I.getFormattedBalance(k,18))})]})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,935)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),_()}},[[929,1,2]]]);
//# sourceMappingURL=main.286334a5.chunk.js.map